## 1.数组实现队列

*此题为夕航科技面试题*

https://blog.csdn.net/qq_42937522/article/details/117617855

## 2.海量数据相关数据结构和算法题（口述思路）

*此题为夕航科技面试题*

一个2G的文件，全存储的是数字，但是你的内存只有1G。

### ①如何找出这个文件的最大的前100个数字？

**思路1：小根堆**

取出100数构建成小顶堆，每次取一个数，小于堆顶不做处理，大于堆顶元素进行替换，调整小顶堆。遍历完一遍即是最大的前100个数。

这个思路也要考虑不能一下读取所有文件中数字的问题。



> 小根堆只是为了每次对比数据时找出100个数中最小的数，当然也可以借助数组（每次需要遍历100次，找到最小值）、优先队列等来实现。



**思路2：分块查找**

将这个文件平分为100份，从每一份中取出最大的100个数字；将这1万个数字组合在一起，找到最大的100个数。



> 对于海量数据处理，思路基本上是确定的，必须分块处理，然后再合并起来。
>
> 
>
> 对于每一块必须找出100个最大的数，因为第一块中100个最大数中的最小的，可能比第二块中100最大数中的最大的还要大
>
> 
>
> 分块处理，再合并。也就是Google MapReduce 的基本思想。Google有很多的服务器，每个服务器又有很多的CPU，因此，100亿个数分成100块，每个服务器处理一块，1亿个数分成100块，每个CPU处理一块。然后再从下往上合并。注意：分块的时候，要保证块与块之间独立，没有依赖关系，否则不能完全并行处理，线程之间要互斥。另外一点，分块处理过程中，不要有副作用，也就是不要修改原数据，否则下次计算结果就不一样了。
>
> 
>
> 上面讲了，对于海量数据，使用多个服务器，多个CPU可以并行，显著提高效率。对于单个服务器，单个CPU有没有意义呢？
>
> 　　也有很大的意义。如果不分块，相当于对100亿个数字遍历，作比较。这中间存在大量的没有必要的比较。可以举个例子说明，全校高一有100个班，我想找出全校前10名的同学，很傻的办法就是，把高一100个班的同学成绩都取出来，作比较，这个比较数据量太大了。应该很容易想到，班里的第11名，不可能是全校的前10名。也就是说，不是班里的前10名，就不可能是全校的前10名。因此，只需要把每个班里的前10取出来，作比较就行了，这样比较的数据量就大大地减少了。

**
**

### ②如何对这个文件中的数字进行排序?

**思路1：**

大文件分块成小文件，装进内存，分别进行内排序，然后将小文件进行多路归并排序，最终得到一个有序的文件。



多路归并有三种思路：分别是使用堆、胜者树、败者数。

https://blog.csdn.net/qq_23160237/article/details/87862619

https://blog.csdn.net/sdmxdzb/article/details/104409250

### ③假设文件里面每行存着一个QQ号（5-10位数），怎么最快找出出现过最多次的QQ号。

*腾讯面经题*

首先你要注意到，数据存在服务器，存储不了（内存存不了），要想办法统计每一个qq出现的次数。

比如，因为内存是1g，首先 你用hash 的方法，把qq分配到10个（这个数字可以变动，比较）文件（在硬盘中）。



相同的qq肯定在同一个文件中，然后对每一个文件，只要保证每一个文件少于1g的内存，统计每个qq的次数，可以使用hash_map(qq, qq_count)实现。然后，记录每个文件的最大访问次数的qq，最后，从10个文件中找出一个最大，即为所有的最大。



那若面试官问有没有更高效率的解法之类的?这时，你可以优化一下，hash函数，速度很快，他肯定会问，你如何设计，用bitmap也行。



## 3.时间复杂度为O（nlogn）的排序算法有哪些？

*此题为夕航科技面试题*

快排、归并、堆排